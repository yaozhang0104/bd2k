!function(e){e.fn.dataTable.fnVersionCheck("1.10.0")?e.fn.dataTableExt.oApi.fnGetColumnData=function(e,t){return e.oInstance.api().column(t,{search:"applied"}).data().sort().unique()}:e.fn.dataTableExt.oApi.fnGetColumnData=function(e,t,n,i,a){if("undefined"==typeof t)return new Array;"undefined"==typeof n&&(n=!0),"undefined"==typeof i&&(i=!0),"undefined"==typeof a&&(a=!0);var l;l=1==i?e.aiDisplay:e.aiDisplayMaster;for(var o=new Array,c=0,p=l.length;p>c;c++){var r=l[c],d=this.fnGetData(r,t);(1!=a||0!=d.length)&&(1==n&&jQuery.inArray(d,o)>-1||o.push(d))}return o};var t=function(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},n=function(t){var n=this,a="";if(n.$WidgetContainer=e('<div class="column-filter-widgets"></div>'),n.$MenuContainer=n.$WidgetContainer,n.$TermContainer=null,n.aoWidgets=[],n.sSeparator="","oColumnFilterWidgets"in t.oInit&&("aiExclude"in t.oInit.oColumnFilterWidgets&&(a="|"+t.oInit.oColumnFilterWidgets.aiExclude.join("|")+"|"),"bGroupTerms"in t.oInit.oColumnFilterWidgets&&t.oInit.oColumnFilterWidgets.bGroupTerms&&(n.$MenuContainer=e('<div class="column-filter-widget-menus"></div>'),n.$TermContainer=e('<div class="column-filter-widget-selected-terms"></div>').hide())),e.each(t.aoColumns,function(l,o){var c=e('<div class="column-filter-widget"></div>');a.indexOf("|"+l+"|")<0&&(n.aoWidgets.push(new i(c,t,l,n)),e("#selector").prepend(c))}),1!=center){var l=e('<div id="sel_radio"></div>');l.append(e('<input type="radio" name="op" style="font-size:14px;font-weight:normal;" checked>Show products from ANY selected center</input>').val("sel_or")),l.append(e("<br>")),l.append(e('<input type="radio" name="op" style="font-size:14px;font-weight:normal;">Show products common to ALL selected centers</input>').val("sel_and")),l.append(e("<br>")),e("#selector").prepend(l),e("#sel_radio input").on("change",function(){e("#selector > div:nth-child(3) > div").trigger("change")})}else e(document).ready(function(){"bdds"==center_name&&e('#selector > div:nth-child(2) > div > input[type="checkbox"]:nth-child(3)').prop("checked",!0),"lincs-dcic"==center_name&&e('#selector > div:nth-child(2) > div > input[type="checkbox"]:nth-child(6)').prop("checked",!0),"bdtg"==center_name&&e('#selector > div:nth-child(2) > div > input[type="checkbox"]:nth-child(9)').prop("checked",!0),"ccd"==center_name&&e('#selector > div:nth-child(2) > div > input[type="checkbox"]:nth-child(12)').prop("checked",!0),"cedar"==center_name&&e('#selector > div:nth-child(2) > div > input[type="checkbox"]:nth-child(15)').prop("checked",!0),"cpcp"==center_name&&e('#selector > div:nth-child(2) > div > input[type="checkbox"]:nth-child(18)').prop("checked",!0),"enigma"==center_name&&e('#selector > div:nth-child(2) > div > input[type="checkbox"]:nth-child(21)').prop("checked",!0),"heartbd2k"==center_name&&e('#selector > div:nth-child(2) > div > input[type="checkbox"]:nth-child(24)').prop("checked",!0),"knoweng"==center_name&&e('#selector > div:nth-child(2) > div > input[type="checkbox"]:nth-child(27)').prop("checked",!0),"lincs-tg"==center_name&&e('#selector > div:nth-child(2) > div > input[type="checkbox"]:nth-child(30)').prop("checked",!0),"md2k"==center_name&&e('#selector > div:nth-child(2) > div > input[type="checkbox"]:nth-child(33)').prop("checked",!0),"mobilize"==center_name&&e('#selector > div:nth-child(2) > div > input[type="checkbox"]:nth-child(36)').prop("checked",!0),"picsure"==center_name&&e('#selector > div:nth-child(2) > div > input[type="checkbox"]:nth-child(39)').prop("checked",!0),e("#selector > div:nth-child(2) > div").trigger("change"),e("#selector > div:nth-child(2)").remove()});return n.$TermContainer&&(n.$WidgetContainer.append(n.$MenuContainer),n.$WidgetContainer.append(n.$TermContainer)),t.aoDrawCallback.push({name:"ColumnFilterWidgets",fn:function(){e.each(n.aoWidgets,function(e,t){t.fnDraw()})}}),n};n.prototype.getContainer=function(){return this.$WidgetContainer.get(0)};var i=function(t,n,i,a){var l=this;l.iColumn=i,l.oColumn=n.aoColumns[i],l.$Container=t,l.oDataTable=n.oInstance,l.asFilters=[],l.sSeparator="",l.bSort=!0,l.iMaxSelections=-1,"oColumnFilterWidgets"in n.oInit&&("sSeparator"in n.oInit.oColumnFilterWidgets&&(l.sSeparator=n.oInit.oColumnFilterWidgets.sSeparator),"iMaxSelections"in n.oInit.oColumnFilterWidgets&&(l.iMaxSelections=n.oInit.oColumnFilterWidgets.iMaxSelections),"aoColumnDefs"in n.oInit.oColumnFilterWidgets&&e.each(n.oInit.oColumnFilterWidgets.aoColumnDefs,function(t,n){var a="|"+n.aiTargets.join("|")+"|";a.indexOf("|"+i+"|")>=0&&e.each(n,function(e,t){l[e]=t})})),l.$Select=e("<div></div>").addClass("widget-"+l.iColumn).change(function(){var t,n;""!==t&&(e(".widget-"+l.iColumn).find("input[type=checkbox]:checked").each(function(){var t=e(this);l.asFilters.push(t.val()),l.asFilters=e.unique(l.asFilters)}),e(".widget-"+l.iColumn).find("input[type=checkbox]:not(:checked)").each(function(){var t=e(this);l.asFilters=e.grep(l.asFilters,function(e){return e!=t.val()}),l.asFilters=e.unique(l.asFilters)}),l.asFilters=e.unique(l.asFilters),a.$TermContainer?(a.$TermContainer.show(),a.$TermContainer.prepend(n)):l.$Select.after(n),l.iMaxSelections>0&&l.iMaxSelections<=l.asFilters.length&&l.$Select.prop("disabled",!0),l.fnFilter())}),l.$Container.append(l.$Select)};if(i.prototype.fnFilter=function(){var n,i,a=this,l=[];a.asFilters.length>0?(e.each(a.asFilters,function(e,n){l.push(t(n))}),4==a.iColumn&&"sel_and"==e("input[name=op]:checked","#sel_radio").val()?(n=a.sSeparator?"(^|"+a.sSeparator+")(":"^(?=.*?",i=a.sSeparator?")("+a.sSeparator+"|$)":").*$",a.oDataTable.fnFilter(n+l.join(")(?=.*?")+i,a.iColumn,!0,!1)):(n=a.sSeparator?"(^|"+a.sSeparator+")(":"(",i=a.sSeparator?")("+a.sSeparator+"|$)":")",a.oDataTable.fnFilter(n+l.join("|")+i,a.iColumn,!0,!1))):a.oDataTable.fnFilter("",a.iColumn)},i.prototype.fnSortOptions=function(){function t(t,i){var a=e(t).text(),l=e(i).text();return n.hasOwnProperty("fnSort")?n.fnSort(a,l):l>a?-1:a==l?0:1}var n=this,i=n.$Select.find("option").slice(1);i.sort(t),n.$Select.append(i)},i.prototype.fnDraw=function(){var t,n=this,i={},a=[];if(0===n.asFilters.length){t=n.oDataTable.fnGetColumnData(n.iColumn),e.each(t,function(t,l){var o=n.sSeparator?l.split(new RegExp(n.sSeparator)):[l];e.each(o,function(e,t){i.hasOwnProperty(t)||(i[t]=!0,a.push(t))})});var l=n.oColumn.sTitle;"&nbsp;"===l&&(l=""),n.$Select.empty().append(e('<div class="title"></div>').val("").text(l)),n.$Select.append('<div class="hline" style="background: #ebebeb;"></div>'),"Initiative"===l&&(n.$Select.append(e('<input type="checkbox"></input>').val("Commons")),n.$Select.append(e('<label class="options"></label>').text("Commons")),n.$Select.append(e("<br>"))),"Center"===l&&(n.$Select.append(e('<input type="checkbox"></input>').val("BDDS")),n.$Select.append(e('<label class="options" title="Big Data for Discovery Science"></label>').text("BDDS")),n.$Select.append(e("<br>")),n.$Select.append(e('<input type="checkbox"></input>').val("LINCS-DCIC")),n.$Select.append(e('<label class="options" title="LINCS-BD2K Perturbation Data Coordination & Integration Center"></label>').text("LINCS-DCIC")),n.$Select.append(e("<br>")),n.$Select.append(e('<input type="checkbox"></input>').val("BDTG")),n.$Select.append(e('<label class="options" title="Big Data in Translational Genomics"></label>').text("BDTG")),n.$Select.append(e("<br>")),n.$Select.append(e('<input type="checkbox"></input>').val("CCD")),n.$Select.append(e('<label class="options" title="Center for Causal Modeling & Discovery of Biomedical Knowledge from Big Data"></label>').text("CCD")),n.$Select.append(e("<br>")),n.$Select.append(e('<input type="checkbox"></input>').val("CEDAR")),n.$Select.append(e('<label class="options" title="Center for Expanded Data Annotation & Retrieval"></label>').text("CEDAR")),n.$Select.append(e("<br>")),n.$Select.append(e('<input type="checkbox"></input>').val("CPCP")),n.$Select.append(e('<label class="options" title="Center for Predictive Computational Phenotyping"></label>').text("CPCP")),n.$Select.append(e("<br>")),n.$Select.append(e('<input type="checkbox"></input>').val("ENIGMA")),n.$Select.append(e('<label class="options" title="Center for Worldwide Medicine, Imaging, & Genomics"></label>').text("ENIGMA")),n.$Select.append(e("<br>")),n.$Select.append(e('<input type="checkbox"></input>').val("HeartBD2K")),n.$Select.append(e('<label class="options" title="HeartBD2K"></label>').text("HeartBD2K")),n.$Select.append(e("<br>")),n.$Select.append(e('<input type="checkbox"></input>').val("KnowEng")),n.$Select.append(e('<label class="options" title="KnowEng"></label>').text("KnowEng")),n.$Select.append(e("<br>")),n.$Select.append(e('<input type="checkbox"></input>').val("LINCS-TG")),n.$Select.append(e('<label class="options" title="LINCS Center for Transcriptomics"></label>').text("LINCS-TG")),n.$Select.append(e("<br>")),n.$Select.append(e('<input type="checkbox"></input>').val("MD2K")),n.$Select.append(e('<label class="options" title="Center of Excellence for Mobile Sensor Data-to-Knowledge"></label>').text("MD2K")),n.$Select.append(e("<br>")),n.$Select.append(e('<input type="checkbox"></input>').val("Mobilize")),n.$Select.append(e('<label class="options" title="The Mobilize Center"></label>').text("Mobilize")),n.$Select.append(e("<br>")),n.$Select.append(e('<input type="checkbox"></input>').val("PICSURE")),n.$Select.append(e('<label class="options" title="Patient-Centered Information Commons: Standardized Unification of Research Elements"></label>').text("PICSURE")),n.$Select.append(e("<br>"))),"Type"===l&&(n.$Select.append(e('<input type="checkbox"></input>').val("Publications")),n.$Select.append(e('<label class="options"></label>').text("Publications")),n.$Select.append(e("<br>")),n.$Select.append(e('<input type="checkbox"></input>').val("Tools")),n.$Select.append(e('<label class="options"></label>').text("Tools")),n.$Select.append(e("<br>")),n.$Select.append(e('<input type="checkbox"></input>').val("News")),n.$Select.append(e('<label class="options"></label>').text("News")),n.$Select.append(e("<br>")),n.$Select.append(e('<input type="checkbox"></input>').val("Events")),n.$Select.append(e('<label class="options"></label>').text("Events")),n.$Select.append(e("<br>")))}},"function"!=typeof e.fn.dataTable||"function"!=typeof e.fn.dataTableExt.fnVersionCheck||!e.fn.dataTableExt.fnVersionCheck("1.7.0"))throw"Warning: ColumnFilterWidgets requires DataTables 1.7 or greater - www.datatables.net/download";e.fn.dataTableExt.aoFeatures.push({fnInit:function(e){var t=new n(e);return t.getContainer()},cFeature:"W",sFeature:"ColumnFilterWidgets"})}(jQuery);